<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th∆∞ vi·ªán T√†i li·ªáu</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #525659; /* M√†u n·ªÅn x√°m ƒë·∫≠m chu·∫©n PDF */
            overflow: hidden;
        }

        /* --- N√∫t Menu (Hamburger Icon - G√≥c Tr√°i) --- */
        .menu-toggle-btn {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 100; /* Lu√¥n n·ªïi tr√™n c√πng */
            background-color: rgba(44, 62, 80, 0.9);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            font-size: 22px;
            transition: all 0.3s ease;
            user-select: none;
        }

        .menu-toggle-btn:hover {
            background-color: #34495e;
            transform: scale(1.1);
        }

        /* --- N√∫t T·∫£i xu·ªëng (G√≥c Ph·∫£i) --- */
        .download-btn {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 100;
            background-color: rgba(44, 62, 80, 0.9);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            font-size: 22px;
            transition: all 0.3s ease;
            text-decoration: none; /* Lo·∫°i b·ªè g·∫°ch ch√¢n c·ªßa th·∫ª a */
        }

        .download-btn:hover {
            background-color: #27ae60; /* M√†u xanh l√° khi hover */
            transform: scale(1.1);
        }

        /* --- L·ªõp ph·ªß m·ªù (khi m·ªü menu) --- */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 150;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* --- Sidebar (Danh s√°ch tr∆∞·ª£t) --- */
        .sidebar {
            position: fixed;
            top: 0;
            left: -280px; /* ·∫®n sang tr√°i m·∫∑c ƒë·ªãnh */
            width: 280px; /* K√≠ch th∆∞·ªõc g·ªçn g√†ng */
            height: 100%;
            background-color: #ffffff;
            box-shadow: 2px 0 15px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 200;
        }

        .sidebar.active {
            left: 0; /* Tr∆∞·ª£t ra */
        }

        .sidebar-header {
            padding: 20px;
            background-color: #2c3e50;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .close-btn {
            cursor: pointer;
            font-size: 24px;
            line-height: 1;
            opacity: 0.8;
            padding: 0 5px;
        }
        .close-btn:hover { opacity: 1; }

        .file-list {
            flex: 1;
            overflow-y: auto;
            padding: 0;
            list-style: none;
            margin: 0;
        }

        .file-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid #f1f1f1;
            font-size: 14px;
            color: #333;
            display: flex;
            align-items: center;
            transition: background 0.2s;
        }

        .file-item:hover {
            background-color: #f8f9fa;
        }

        .file-item.active {
            background-color: #e3f2fd;
            color: #1976d2;
            border-left: 4px solid #1976d2;
            font-weight: 500;
        }

        /* --- Khung hi·ªÉn th·ªã PDF --- */
        .main-content {
            width: 100%;
            height: 100vh;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }
    </style>
</head>
<body>

    <!-- N√∫t Menu Tr√≤n (Tr√°i) -->
    <div class="menu-toggle-btn" onclick="openSidebar()" title="M·ªü danh s√°ch">
        ‚ò∞
    </div>

    <!-- N√∫t T·∫£i xu·ªëng Tr√≤n (Ph·∫£i) -->
    <a href="#" id="downloadBtn" class="download-btn" title="T·∫£i t√†i li·ªáu v·ªÅ m√°y" target="_blank">
        <!-- Icon Material Design Download chu·∫©n Google -->
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#ffffff">
            <path d="M0 0h24v24H0V0z" fill="none"/>
            <path d="M19 9h-4V3H9v6H5l7 7 7-7zm-14 9h14v2H5z"/>
        </svg>
    </a>

    <!-- L·ªõp ph·ªß ƒëen ƒë·ªÉ click ra ngo√†i th√¨ ƒë√≥ng -->
    <div class="overlay" id="overlay" onclick="closeSidebar()"></div>

    <!-- Sidebar Danh s√°ch -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            Danh s√°ch t√†i li·ªáu
            <span class="close-btn" onclick="closeSidebar()">&times;</span>
        </div>
        <ul class="file-list" id="fileList">
            <!-- Javascript s·∫Ω t·ª± ƒë·ªông ƒëi·ªÅn danh s√°ch v√†o ƒë√¢y -->
        </ul>
    </div>

    <!-- Khung hi·ªÉn th·ªã PDF -->
    <div class="main-content">
        <iframe id="pdfViewer" src="" allow="autoplay"></iframe>
    </div>

    <script>
        // ==========================================
        // C·∫§U H√åNH DANH S√ÅCH FILE C·ª¶A B·∫†N
        // ==========================================
        const documents = [
            {
                title: "B√°o c√°o t√†i ch√≠nh 2024",
                id: "1R0yUo6wIS51usUQetS67O9rrd6RYhZY5"
            },
            {
                title: "B√°o c√°o t√†i ch√≠nh 2025",
                id: "1Mcjk_MyaTmpOFSlXtTd_smeVSIJ9MtOw"
            }
        ];

        // ==========================================
        // X·ª¨ L√ù GIAO DI·ªÜN & LOGIC
        // ==========================================
        const viewer = document.getElementById('pdfViewer');
        const listContainer = document.getElementById('fileList');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const downloadBtn = document.getElementById('downloadBtn');

        // H√†m m·ªü menu
        function openSidebar() {
            sidebar.classList.add('active');
            overlay.classList.add('active');
        }

        // H√†m ƒë√≥ng menu
        function closeSidebar() {
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
        }

        function loadPDF(id) {
            const url = `https://drive.google.com/file/d/${id}/preview`;
            
            // C·∫≠p nh·∫≠t link t·∫£i xu·ªëng cho n√∫t Download
            // Link t·∫£i tr·ª±c ti·∫øp c·ªßa Google: .../uc?export=download&id=...
            downloadBtn.href = `https://drive.google.com/uc?export=download&id=${id}`;

            // Ch·ªâ reload n·∫øu ID kh√°c (ƒë·ªÉ tr√°nh nh√°y m√†n h√¨nh kh√¥ng c·∫ßn thi·∫øt)
            if (!viewer.src.includes(id)) {
                viewer.src = url;
            }

            // Update URL browser
            const newUrl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?id=' + id;
            window.history.pushState({path: newUrl}, '', newUrl);

            // Highlight item ƒëang ch·ªçn
            document.querySelectorAll('.file-item').forEach(item => {
                item.classList.remove('active');
                if(item.dataset.id === id) {
                    item.classList.add('active');
                }
            });

            // T·ª± ƒë·ªông ƒë√≥ng menu sau khi ch·ªçn ƒë·ªÉ user xem full m√†n h√¨nh
            closeSidebar();
        }

        function renderList() {
            listContainer.innerHTML = '';
            documents.forEach(doc => {
                const li = document.createElement('li');
                li.className = 'file-item';
                li.dataset.id = doc.id;
                li.innerHTML = `<span>üìÑ</span>&nbsp; ${doc.title}`;
                
                li.onclick = () => loadPDF(doc.id);
                listContainer.appendChild(li);
            });
        }

        function init() {
            renderList();
            const urlParams = new URLSearchParams(window.location.search);
            const fileId = urlParams.get('id');

            if (fileId) {
                loadPDF(fileId);
            } else if (documents.length > 0) {
                // Load file ƒë·∫ßu ti√™n nh∆∞ng KH√îNG ƒë√≥ng menu ngay (n·∫øu mu·ªën)
                // Ho·∫∑c c·ª© load b√¨nh th∆∞·ªùng
                loadPDF(documents[0].id);
            }
        }

        init();
    </script>
</body>
</html>
